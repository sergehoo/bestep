{% load static %}
<div
  x-data="{
    collapsed: (window.__beShell?.sidebar?.collapsed ?? false),
    init(){
      this.collapsed = (window.__beShell?.sidebar?.collapsed ?? false);
      window.addEventListener('be:sidebar', (e)=>{ this.collapsed = !!e.detail.collapsed; });
    }
  }"
  x-init="init()"
  class="rounded-2.5xl border border-be-ink-100/70 dark:border-white/10
         bg-white/80 dark:bg-white/5 backdrop-blur-xl shadow-soft overflow-hidden"
>
  <div class="p-4 border-b border-be-ink-100/70 ">
    <div class="flex items-center gap-3">
      <div class="w-70 h-11  flex items-center justify-center overflow-hidden">
  <img src="{% static 'img/logo-2.png' %}" alt="Logo" class="w-full h-full object-cover">
</div>
{#      <div class="min-w-0" :class="collapsed ? 'hidden' : ''">#}
{#        <div class="font-semibold leading-tight">Espace Formateur</div>#}
{#        <div class="text-xs text-be-ink-500 dark:text-white/60 mt-0.5">Gestion & contenus</div>#}
{#      </div>#}
    </div>

    <div class="mt-4 flex gap-2" :class="collapsed ? 'hidden' : ''">
      <a href="{% url 'instructor_dashboard' %}"
         class="flex-1 px-3 py-2 rounded-xl bg-be-sky-600 text-white hover:bg-be-sky-700 transition text-xs font-semibold text-center">
        Dashboard
      </a>
      <a href="#"
         class="px-3 py-2 rounded-xl border border-be-ink-100/70 dark:border-white/10
                bg-white/70 dark:bg-white/5 hover:bg-be-ink-50/60 dark:hover:bg-white/10
                transition text-xs font-semibold">
        Aide
      </a>
    </div>
  </div>

  <nav class="p-2">
    {% comment %}
      Définir active item via context:
      ex: context["side_active"]="courses"
    {% endcomment %}

    {% with active=side_active|default:"courses" %}
    <a href="{% url 'instructor_dashboard' %}"
       class="group flex items-center gap-3 px-3 py-2.5 rounded-xl transition
              {% if active == 'courses' %} bg-be-sky-50 dark:bg-white/10 text-be-sky-700 dark:text-white {% else %} hover:bg-be-ink-50/60 dark:hover:bg-white/10 text-be-ink-700 dark:text-white/80 {% endif %}">
      <span class="w-9 h-9 rounded-xl flex items-center justify-center
                   {% if active == 'courses' %} bg-be-sky-100 text-be-sky-700 {% else %} bg-be-ink-50 dark:bg-white/5 text-be-ink-600 dark:text-white/70 {% endif %}">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
          <path d="M4 19V5a2 2 0 0 1 2-2h12v16H6a2 2 0 0 0-2 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          <path d="M8 7h8M8 11h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </span>
      <div class="min-w-0" :class="collapsed ? 'hidden' : ''">
        <div class="text-sm font-semibold">Mes cours</div>
        <div class="text-[11px] text-be-ink-500 dark:text-white/60 -mt-0.5">Créer, publier, builder</div>
      </div>
      <span class="ml-auto text-[11px] px-2 py-1 rounded-full border border-be-ink-100/70 dark:border-white/10
                   bg-white/70 dark:bg-white/5 text-be-ink-600 dark:text-white/70"
            :class="collapsed ? 'hidden' : ''">NEW</span>
    </a>

    <a href="#"
       class="group mt-1 flex items-center gap-3 px-3 py-2.5 rounded-xl transition
              {% if active == 'media' %} bg-be-sky-50 dark:bg-white/10 text-be-sky-700 dark:text-white {% else %} hover:bg-be-ink-50/60 dark:hover:bg-white/10 text-be-ink-700 dark:text-white/80 {% endif %}">
      <span class="w-9 h-9 rounded-xl flex items-center justify-center bg-be-ink-50 dark:bg-white/5 text-be-ink-600 dark:text-white/70">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
          <path d="M4 7h16M4 17h16M6 7v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </span>
      <div class="min-w-0" :class="collapsed ? 'hidden' : ''">
        <div class="text-sm font-semibold">Bibliothèque</div>
        <div class="text-[11px] text-be-ink-500 dark:text-white/60 -mt-0.5">Vidéos, docs, audios</div>
      </div>
    </a>

    <a href="#"
       class="group mt-1 flex items-center gap-3 px-3 py-2.5 rounded-xl transition
              {% if active == 'reviews' %} bg-be-sky-50 dark:bg-white/10 text-be-sky-700 dark:text-white {% else %} hover:bg-be-ink-50/60 dark:hover:bg-white/10 text-be-ink-700 dark:text-white/80 {% endif %}">
      <span class="w-9 h-9 rounded-xl flex items-center justify-center bg-be-ink-50 dark:bg-white/5 text-be-ink-600 dark:text-white/70">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
          <path d="M12 2l3 7 7 3-7 3-3 7-3-7-7-3 7-3 3-7Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
        </svg>
      </span>
      <div class="min-w-0" :class="collapsed ? 'hidden' : ''">
        <div class="text-sm font-semibold">Avis</div>
        <div class="text-[11px] text-be-ink-500 dark:text-white/60 -mt-0.5">Notes & commentaires</div>
      </div>
    </a>

    <a href="#"
       class="group mt-1 flex items-center gap-3 px-3 py-2.5 rounded-xl transition
              {% if active == 'payouts' %} bg-be-sky-50 dark:bg-white/10 text-be-sky-700 dark:text-white {% else %} hover:bg-be-ink-50/60 dark:hover:bg-white/10 text-be-ink-700 dark:text-white/80 {% endif %}">
      <span class="w-9 h-9 rounded-xl flex items-center justify-center bg-be-ink-50 dark:bg-white/5 text-be-ink-600 dark:text-white/70">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
          <path d="M21 7H3V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v2Z" stroke="currentColor" stroke-width="2"/>
          <path d="M3 7v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7" stroke="currentColor" stroke-width="2"/>
          <path d="M7 11h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </span>
      <div class="min-w-0" :class="collapsed ? 'hidden' : ''">
        <div class="text-sm font-semibold">Paiements</div>
        <div class="text-[11px] text-be-ink-500 dark:text-white/60 -mt-0.5">Transactions & commissions</div>
      </div>
    </a>
    {% endwith %}
  </nav>


       <!-- Quick Actions -->
      <div class="rounded-2xl border border-be-sun-200 bg-gradient-to-br from-be-sun-50 via-white to-be-sky-50 shadow-soft p-5">
        <div class="text-xs text-be-ink-500">Actions rapides</div>
        <div class="font-semibold mt-1">Gérer vos contenus</div>
        <div class="mt-3 grid grid-cols-2 gap-2">
          <button @click="openCreateCourse()"
                  class="px-3 py-2 rounded-xl bg-be-ink-900 text-white text-sm font-semibold hover:opacity-90">Créer</button>
          <button @click="activeTab='payouts'; loadPayouts()"
                  class="px-3 py-2 rounded-xl border border-be-ink-100 bg-white hover:bg-be-ink-50 text-sm font-semibold">Paiements</button>
          <button @click="activeTab='reviews'; loadReviews()"
                  class="px-3 py-2 rounded-xl border border-be-ink-100 bg-white hover:bg-be-ink-50 text-sm font-semibold">Avis</button>
          <button @click="activeTab='courses'; loadCourses()"
                  class="px-3 py-2 rounded-xl bg-be-sky-600 text-white hover:bg-be-sky-700 text-sm font-semibold shadow-soft">Mes cours</button>
        </div>
      </div>

  <div class="p-4 border-t border-be-ink-100/70 dark:border-white/10">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 rounded-2xl bg-gradient-to-br from-be-sun-300 to-be-sun-500 flex items-center justify-center text-be-ink-900 font-semibold">
        F
      </div>
      <div class="min-w-0" :class="collapsed ? 'hidden' : ''">
        <div class="text-sm font-semibold truncate">Formateur</div>
        <div class="text-[11px] text-be-ink-500 dark:text-white/60 truncate">Compte & paramètres</div>
      </div>
    </div>

    <div class="mt-3 grid grid-cols-2 gap-2" :class="collapsed ? 'hidden' : ''">
      <a href="#" class="px-3 py-2 rounded-xl border border-be-ink-100/70 dark:border-white/10 bg-white/70 dark:bg-white/5 hover:bg-be-ink-50/60 dark:hover:bg-white/10 transition text-xs font-semibold text-center">Profil</a>
      <a href="#" class="px-3 py-2 rounded-xl bg-be-ink-900 text-white hover:opacity-90 transition text-xs font-semibold text-center">Déconnexion</a>
    </div>  
      </div>
</div>