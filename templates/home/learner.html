<!doctype html>
<html lang="fr" class="h-full">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>best-épargne — Apprenant</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <style>
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  </style>
  <script>
    tailwind.config = {
      theme: { extend: {
        colors: { be: {
          sky: { 50:"#F2FAFF",100:"#DEF3FF",200:"#BEE8FF",300:"#8AD7FF",400:"#4DBFFF",500:"#1EA7FF",600:"#0C87D6",700:"#0B6FAE",800:"#0C5C8E",900:"#0A466B" },
          sun: { 50:"#FFFBEA",100:"#FFF3BF",200:"#FFE58A",300:"#FFD14D",400:"#FFBD1F",500:"#F7A600",600:"#D48300",700:"#AD6400",800:"#8A4E00",900:"#6A3B00" },
          ink: { 50:"#F7FAFC",100:"#EEF2F7",200:"#D7DEE9",300:"#B5C0D4",400:"#7E8AA6",500:"#5B6783",600:"#3F4A63",700:"#2B3449",800:"#1E2536",900:"#121827" }
        }},
        boxShadow: { soft:"0 10px 30px rgba(12,92,142,.12)", ring:"0 0 0 6px rgba(30,167,255,.12)" }
      }}
    }
  </script>
</head>
<body class="h-full bg-gradient-to-br from-be-sky-50 via-white to-be-sun-50 text-be-ink-900"
      x-data="LearnerApp()" x-init="init()">

<header class="sticky top-0 z-40">
  <div class="mx-auto max-w-[1480px] px-3 sm:px-6 py-3">
    <div class="flex items-center justify-between gap-3 rounded-2xl border border-be-sky-100 bg-white/80 backdrop-blur-xl shadow-soft px-3 sm:px-4 py-2.5">
      <div class="flex items-center gap-2">
        <button class="w-10 h-10 rounded-xl border border-be-ink-100 hover:bg-be-ink-50 transition"
                @click="sidebarOpen=!sidebarOpen">
          <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
            <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
        <a href="#" class="flex items-center gap-2">
          <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-be-sky-500 to-be-sky-700 text-white flex items-center justify-center shadow-ring">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
              <path d="M12 3l9 5-9 5-9-5 9-5Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
              <path d="M3 10l9 5 9-5" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
              <path d="M3 14l9 5 9-5" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="leading-tight">
            <div class="font-semibold tracking-tight">best-épargne</div>
            <div class="text-[11px] text-be-ink-500 -mt-0.5">Vue Apprenant</div>
          </div>
        </a>
      </div>

      <div class="hidden lg:flex flex-1 max-w-xl">
        <input x-model="q" placeholder="Rechercher dans le catalogue…"
               class="w-full px-4 py-2.5 rounded-xl border border-be-ink-100 bg-white focus:outline-none focus:ring-4 focus:ring-be-sky-200/60 focus:border-be-sky-300 text-sm"/>
      </div>

      <div class="flex items-center gap-2">
        <div class="hidden sm:flex items-center gap-2 px-3 py-2 rounded-xl border border-be-ink-100 bg-white">
          <span class="text-xs text-be-ink-500">Profil:</span>
          <span class="text-sm font-semibold">Apprenant</span>
        </div>
        <div class="w-10 h-10 rounded-xl border border-be-ink-100 bg-white flex items-center justify-center font-semibold">A</div>
      </div>
    </div>
  </div>
</header>

<div class="mx-auto max-w-[1480px] px-3 sm:px-6 pb-10">
  <div class="grid lg:grid-cols-12 gap-4 lg:gap-6">

    <aside class="lg:col-span-3 xl:col-span-2" :class="sidebarOpen ? '' : 'hidden lg:block'">
      <div class="sticky top-[92px]">
        <div class="rounded-2xl border border-be-ink-100 bg-white shadow-soft overflow-hidden">
          <div class="p-4 border-b border-be-ink-100 bg-gradient-to-br from-be-sky-50 to-white">
            <div class="text-xs text-be-ink-500">Objectif hebdo</div>
            <div class="text-lg font-semibold mt-1">4h 20</div>
            <div class="mt-3 h-2 rounded-full bg-be-ink-100 overflow-hidden">
              <div class="h-full bg-be-sun-500 rounded-full" style="width:72%"></div>
            </div>
            <div class="mt-2 text-[11px] text-be-ink-500">72% atteint</div>
          </div>

          <nav class="p-2">
            <div class="px-2 py-2 text-[11px] uppercase tracking-wider text-be-ink-400">Apprenant</div>
            <template x-for="item in nav" :key="item.key">
              <button @click="goto(item.route)"
                      class="w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition"
                      :class="route===item.route ? 'bg-be-sky-600 text-white shadow-soft' : 'text-be-ink-700 hover:bg-be-ink-50'">
                <span class="w-9 h-9 rounded-xl flex items-center justify-center"
                      :class="route===item.route ? 'bg-white/15' : 'bg-be-ink-50 border border-be-ink-100'">
                  <span x-html="item.icon"></span>
                </span>
                <span class="flex-1 text-left" x-text="item.label"></span>
              </button>
            </template>
          </nav>
        </div>
      </div>
    </aside>

    <main class="lg:col-span-9 xl:col-span-10">
      <div>
        <div class="text-xs text-be-ink-500">best-épargne • Apprenant</div>
        <h1 class="text-2xl sm:text-3xl font-semibold tracking-tight mt-1" x-text="pageTitle()"></h1>
      </div>

      <div class="mt-5 space-y-6">

        <!-- MES COURS -->
        <section x-show="route==='my_courses'" x-transition.opacity>
          <div class="rounded-2xl border border-be-ink-100 bg-white shadow-soft overflow-hidden">
            <div class="p-5 flex items-center justify-between">
              <div>
                <div class="text-sm font-semibold">Mes cours</div>
                <div class="text-xs text-be-ink-500 mt-1">Progression, modules, quiz.</div>
              </div>

              <div class="inline-flex rounded-xl border border-be-ink-100 bg-white p-1">
                <button class="px-3 py-1.5 rounded-lg text-xs font-medium"
                        :class="tab==='inprogress' ? 'bg-be-ink-900 text-white' : 'text-be-ink-600 hover:bg-be-ink-50'"
                        @click="tab='inprogress'">En cours</button>
                <button class="px-3 py-1.5 rounded-lg text-xs font-medium"
                        :class="tab==='completed' ? 'bg-be-ink-900 text-white' : 'text-be-ink-600 hover:bg-be-ink-50'"
                        @click="tab='completed'">Terminés</button>
              </div>
            </div>

            <div class="p-5 pt-0 space-y-3" x-show="tab==='inprogress'">
              <template x-for="c in courses.filter(x=>!x.done)" :key="c.id">
                <div class="rounded-2xl border border-be-ink-100 p-4 hover:bg-be-ink-50/40 transition">
                  <div class="flex items-start justify-between gap-3">
                    <div class="min-w-0">
                      <div class="font-semibold truncate" x-text="c.title"></div>
                      <div class="text-xs text-be-ink-500 mt-1">Module <span x-text="c.module"></span> • <span x-text="c.minutes"></span> min restantes</div>
                      <div class="mt-3 flex items-center gap-2">
                        <div class="h-2 w-56 max-w-[60vw] rounded-full bg-be-ink-100 overflow-hidden">
                          <div class="h-full rounded-full bg-be-sky-600" :style="`width:${c.progress}%`"></div>
                        </div>
                        <div class="text-xs text-be-ink-600 font-medium" x-text="c.progress+'%'"></div>
                      </div>
                    </div>
                    <button class="px-3 py-2 rounded-xl bg-be-ink-900 text-white text-xs font-semibold hover:opacity-90">
                      Continuer
                    </button>
                  </div>
                </div>
              </template>
            </div>

            <div class="p-5 pt-0 space-y-3" x-show="tab==='completed'">
              <template x-for="c in courses.filter(x=>x.done)" :key="c.id">
                <div class="rounded-2xl border border-be-ink-100 p-4">
                  <div class="flex items-center justify-between">
                    <div>
                      <div class="font-semibold" x-text="c.title"></div>
                      <div class="text-xs text-be-ink-500 mt-1">Terminé • Score: <span class="font-semibold" x-text="c.score+'%'"></span></div>
                    </div>
                    <span class="text-[11px] px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200">OK</span>
                  </div>
                </div>
              </template>
            </div>

          </div>
        </section>

        <!-- CERTIFICATS -->
        <section x-show="route==='certificates'" x-transition.opacity>
          <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
            <template x-for="cert in certificates" :key="cert.serial">
              <div class="rounded-2xl border border-be-ink-100 bg-white shadow-soft p-4 bg-gradient-to-br from-white to-be-sky-50">
                <div class="text-xs text-be-ink-500">Certificat</div>
                <div class="font-semibold mt-1" x-text="cert.course"></div>
                <div class="text-xs text-be-ink-500 mt-1">Serial: <span class="font-mono" x-text="cert.serial"></span></div>
                <div class="mt-4 flex gap-2">
                  <button class="flex-1 px-3 py-2 rounded-xl bg-be-ink-900 text-white text-xs font-semibold hover:opacity-90">Télécharger PDF</button>
                  <button class="px-3 py-2 rounded-xl border border-be-ink-100 bg-white hover:bg-be-ink-50 text-xs font-semibold">Vérifier</button>
                </div>
              </div>
            </template>
          </div>
        </section>

        <!-- PARAMÈTRES -->
        <section x-show="route==='settings'" x-transition.opacity>
          <div class="rounded-2xl border border-be-ink-100 bg-white shadow-soft p-5">
            <div class="text-sm font-semibold">Paramètres</div>
            <div class="text-xs text-be-ink-500 mt-1">Profil, sécurité.</div>
          </div>
        </section>

      </div>
    </main>

  </div>
</div>

<script>
  function icon(name){
    const icons = {
      learner:`<svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
        <path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Z" stroke="currentColor" stroke-width="2"/>
        <path d="M4 22a8 8 0 0 1 16 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>`,
      cert:`<svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
        <path d="M12 2l3 7 7 3-7 3-3 7-3-7-7-3 7-3 3-7Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
      </svg>`,
      settings:`<svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
        <path d="M12 15.5a3.5 3.5 0 1 0-3.5-3.5 3.5 3.5 0 0 0 3.5 3.5Z" stroke="currentColor" stroke-width="2"/>
        <path d="M19.4 15a1.7 1.7 0 0 0 .34 1.87l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06A1.7 1.7 0 0 0 15 19.4a1.7 1.7 0 0 0-1 .3 1.7 1.7 0 0 0-.87 1.47V21a2 2 0 1 1-4 0v-.09A1.7 1.7 0 0 0 8.1 19.4a1.7 1.7 0 0 0-1.87.34l-.06.06A2 2 0 1 1 3.34 17l.06-.06A1.7 1.7 0 0 0 4.6 15a1.7 1.7 0 0 0-.3-1 1.7 1.7 0 0 0-1.47-.87H2a2 2 0 1 1 0-4h.09A1.7 1.7 0 0 0 4.6 8.1a1.7 1.7 0 0 0-.34-1.87l-.06-.06A2 2 0 1 1 6.03 3.34l.06.06A1.7 1.7 0 0 0 8.1 4.6a1.7 1.7 0 0 0 1-.3 1.7 1.7 0 0 0 .87-1.47V2a2 2 0 1 1 4 0v.09A1.7 1.7 0 0 0 15.9 4.6a1.7 1.7 0 0 0 1.87-.34l.06-.06A2 2 0 1 1 20.66 6l-.06.06A1.7 1.7 0 0 0 19.4 8.1a1.7 1.7 0 0 0 .3 1 1.7 1.7 0 0 0 1.47.87H22a2 2 0 1 1 0 4h-.09A1.7 1.7 0 0 0 19.4 15Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
      </svg>`
    };
    return icons[name] || icons.learner;
  }

  function LearnerApp(){
    return {
      sidebarOpen:true,
      route:"my_courses",
      tab:"inprogress",
      q:"",
      nav:[
        { key:"my_courses", route:"my_courses", label:"Mes cours", icon: icon("learner") },
        { key:"certificates", route:"certificates", label:"Certificats", icon: icon("cert") },
        { key:"settings", route:"settings", label:"Paramètres", icon: icon("settings") },
      ],
      courses:[],
      certificates:[],
      init(){
        this.courses = [
          { id:1, title:"Budget & Épargne intelligente", module:"3/8", minutes:34, progress:62, done:false, score:null },
          { id:2, title:"Excel pour la Finance", module:"5/10", minutes:58, progress:44, done:false, score:null },
          { id:3, title:"Bases de la Comptabilité", module:"10/10", minutes:0, progress:100, done:true, score:86 },
        ];
        this.certificates = [
          { serial:"BE-9A31F2D8C1", course:"Bases de la Comptabilité" },
          { serial:"BE-18C0B9F0AA", course:"Procédures RH & conformité" },
        ];
        const mq = window.matchMedia("(max-width: 1024px)");
        this.sidebarOpen = !mq.matches;
        mq.addEventListener?.("change", (e)=>{ this.sidebarOpen = !e.matches; });
      },
      goto(r){ this.route=r; if (window.innerWidth<1024) this.sidebarOpen=false; },
      pageTitle(){
        return { my_courses:"Mes cours", certificates:"Mes certificats", settings:"Paramètres" }[this.route] || "Mes cours";
      }
    }
  }
</script>
</body>
</html>